{% extends "home/layout.html" %}
{% load static %}

{% block body %}

<!-- Cart Section -->

    <h1 id="cartTopHeader">Shopping Cart</h1>
    <section class="cartProductContainer">
        <div class="cartContainer">
            <div class="leftCartChild">
                <div class="leftCartTop">
                    <h1 class="cartHeader">Cart Items</h1>
                </div>
              
                {% for cartitem in cart %}
                
                  <div class="leftCartBottom cartProduct">
                    <div class="bottomFirst">
                        <img src="{{ cartitem.foodimg }}" alt="" loading="lazy">
                    </div>
                    
                    <div class="bottomSecond">

                        <!-- Item name, quantity and change quantity buttons-->
                        <h3 class="cartProductName">{{ cartitem.foodname}}</h3>
                        <p class="cartProductQty">Quantity: 
                          <div class="cartBtnContainer">
                            <div class="tempContainer">
                              <a>
                                <button class="subtractQty" pid="{{cartitem.id}}">-</button>
                              </a> 
                              <p class="cartQty" id="{{cartitem.id}}">{{ cartitem.quantity }} </p>
                              <a>
                                <button class="addQty"  pid="{{cartitem.id}}">+</button>
                              </a>
                            </div>
                          </div>
                        </p>

                        <!-- Remove item button -->
                        <div class="btnAndPrice">
                            <button class="removeItemFromCart" pid="{{cartitem.id}}">Remove Item</button>
                            <div class="cartProductPrice">${{ cartitem.price }}</div>
                        </div>
                    </div>
                </div>
              {% endfor %}
            </div>

            <!-- Display total items amount and price -->
            <div class="rightCartChild">
                <div class="rightCartTop">
                    <h2 class="rightCartHeader">Cart Totals</h2>
                </div>
                <div class="rightCartMiddle">
                    <div class="cartAmount">
                        <h5>Amount</h5>
                        <p>$<span id="amtnoshipping">{{amount}}</span></p>
                    </div>
                    <div class="cartShipping">
                        <h5>Shipping Fee</h5>
                        <p>${{shipping_amount}}</p>
                    </div>
                </div>
                <div class="rightCartBottom">
                    <p><strong>Total</strong><span>(Including VAT)</span></p>
                    <p>$<span id="amtwithshipping">{{totalamount}}</span></p>
                </div>
                <div class="checkoutButtonContainer">
                    <a href="{% url 'checkout' %}"><button class="checkoutButton">Checkout</button></a>
                </div>
            </div>
        </div>
    </section>


    {% endblock %}